# Changelog

## [0.9.6] - 2024-06-28

- 修复重连逻辑, 在 ctx 退出后不继续重连, 而不应该判断错误类型是否为 `context.Canceled`

## [0.9.5] - 2024-06-27

- Docker 镜像 alpine 添加 tzdata 包, 修复 timezone 未定义的问题

## [0.9.4] - 2024-06-27

- `/ws-info-keep` 将于次日 04:30 断开, 以免风控中断消息推送

## [0.9.3] - 2024-06-26

- 健康检查接口返回 game_id

## [0.9.2] - 2024-06-18

- 添加健康检查接口: `/bilibili/health`

## [0.9.0] - 2024-06-18

- 升级 `openbilibili@v0.5.0` 修复错误关闭连接的问题

## [0.8.3] - 2024-05-11

- 头像互联改成昵称互联 (头像地址可以是一样的, 如神秘人)

## [0.8.2] - 2024-04-21

- 优化: 现在可显示中文昵称

## [0.8.1] - 2024-04-16

- 优化: 显示昵称便于用户确定自己身份

## [0.8.0] - 2024-04-16

- 更改: uid 和 openid 首次绑定不再下发 linked msg, 改为客户端主动询问后再下发, 避免弹幕用户也被创建

## [0.7.2] - 2024-04-15

- 优化: 当收到客户端发来 linked msg 询问, 如果存在 uid 则写入一条 linked msg

## [0.7.1] - 2024-04-15

- 修复: linked msg 只发送给第一个链接的客户端的问题, 现在会正常的发送给每一个链接的客户端

## [0.7.0] - 2024-04-15

- 添加: uid 和 openid 绑定成功后会向客户端发送绑定成功的通知

## [0.6.3] - 2024-04-14

- 优化: uid 和 openid 绑定现在会在已连接的直播间触发, 这样更方便

## [0.6.2] - 2024-04-14

- 添加 `BEER_PROXY`

## [0.6.1] - 2024-04-14

- 改进: 添加 log

## [0.6.0] - 2024-04-12

- 更新: 现在使用 OpenID, 并添加 UID 野开接口支持

## [0.5.2] - 2024-03-26

- 修复: B 站弹幕链接现在需要应用心跳保活了

## [0.5.1] - 2024-03-04

- 修复代码错误: err 变量在错误的作用域引用

## [0.5.0] - 2024-02-15

- 添加 `/ws-info-keep`接口, 连接该 ws 接口时会持续发送心跳

## [0.4.4] - 2023-12-19

- 优化手机端登录指示文本

## [0.4.3] - 2023-11-11

- change: 改用 sse 推送事件, 因为阿里云 ws 配置没通过

## [0.4.2] - 2023-11-11

- fix: 修复 Dockerfile

## [0.4.1] - 2023-11-11

- 将大部分配置移到配置文件里了

## [0.4.0] - 2023-11-11

- 移除了数据库依赖, 使用配置文件加载 OAuth Clients
- 清除了不再使用的 danmu js bridge
- 升级 openapi-bilibili

## [0.3.0] - 2023-09-22

- 添加 '/bilibili/ws-info' 接口获取直播长连信息, 该接口需验证 jwt token

## [0.2.1] - 2023-09-21

### Improve

- 修复 css 没有预先加载好的问题

## [0.2.0] - 2023-09-21

### Change

- 使用[B 站官方开发平台的接口](https://open-live.bilibili.com/document/f9ce25be-312e-1f4a-85fd-fef21f1637f8)获取弹幕
- 运行依赖移除了 nodejs

## [0.1.1] - 2023-09-13

### Improve

- 登录服务页面已优化完成

## [0.1.0] - 2023-09-12

### Add

- 支持作为 PocketBase oidc provider 服务器使用

## [0.0.8] - 2023-07-03

### Fix

- `KeepLiveTCP` 也不行, 添加认证信息. 引入了 bilipage 服务依赖

## [0.0.7] - 2023-07-02

### Fix

- `KeepLiveTCP` 相较于 `KeepLiveWS` 貌似没有受到 b 站隐藏 UID 和昵称的影响

## [0.0.6] - 2023-07-02

### Fix

- 修复弹幕验证只有首次可被验证的问题

## [0.0.5] - 2023-07-02

### Improve

- 使用成熟的 js 直播弹幕库替换自己写的 golang 版, 额外要求 node 存在于服务器上
- 添加版本号

## [0.0.4] - 2023-03-13

### Change

- token 使用 ed25519 进行签名, 资源服务器可直接对 token 验证无需通过网络

## [0.0.3] - 2023-03-13

### Fix

- logout 不应清除 ReturnUri

## [0.0.2] - 2023-03-13

### Fix

- 支持 PCKE 认证
